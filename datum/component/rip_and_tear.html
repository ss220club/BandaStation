<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/rip_and_tear - BandaStation</title></head><body><header><a href="index.html">BandaStation</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/rip_and_tear.html#var">Var Details</a> - <a href="datum/component/rip_and_tear.html#proc">Proc Details</a></header><main><h1>Rip and Tear Component <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/rip_and_tear.html">rip_and_tear</a></aside> <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L15"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 15"></a></h1><p>A component that allows items to tear down walls with sustained attacks.</p>
<p>This component handles the validation and execution of wall-tearing actions,
including stamina costs, wield requirements, and handling of reinforced walls.
It provides visual feedback and sound effects during the tearing process.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/rip_and_tear.html#var/do_after_key">do_after_key</a></th><td>Unique key for do_after actions to prevent overlapping interactions</td></tr><tr><th><a href="datum/component/rip_and_tear.html#var/ignore_exhaustion">ignore_exhaustion</a></th><td>Whether to ignore stamina exhaustion checks</td></tr><tr><th><a href="datum/component/rip_and_tear.html#var/reinforced_multiplier">reinforced_multiplier</a></th><td>Multiplier for tear time on reinforced walls (null means cannot tear reinforced walls)</td></tr><tr><th><a href="datum/component/rip_and_tear.html#var/require_wielded">require_wielded</a></th><td>Whether the item must be wielded to tear walls</td></tr><tr><th><a href="datum/component/rip_and_tear.html#var/stamina_cost">stamina_cost</a></th><td>Base stamina cost for tearing actions</td></tr><tr><th><a href="datum/component/rip_and_tear.html#var/stamina_cost_wielded">stamina_cost_wielded</a></th><td>Stamina cost when wielded (if different from base)</td></tr><tr><th><a href="datum/component/rip_and_tear.html#var/tear_time">tear_time</a></th><td>Base time required to tear a standard wall</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/rip_and_tear.html#proc/Initialize">Initialize</a></th><td>Initialize the rip and tear component</td></tr><tr><th><a href="datum/component/rip_and_tear.html#proc/get_stamina_cost">get_stamina_cost</a></th><td>Get current stamina cost based on wield status</td></tr><tr><th><a href="datum/component/rip_and_tear.html#proc/on_pre_attack">on_pre_attack</a></th><td>Handle pre-attack validation for wall tearing</td></tr><tr><th><a href="datum/component/rip_and_tear.html#proc/rip_and_tear">rip_and_tear</a></th><td>Execute the wall tearing process</td></tr><tr><th><a href="datum/component/rip_and_tear.html#proc/validate_target">validate_target</a></th><td>Validate if target can be torn</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/do_after_key"><aside class="declaration">var </aside>do_after_key <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L29"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 29"></a></h3><p>Unique key for do_after actions to prevent overlapping interactions</p><h3 id="var/ignore_exhaustion"><aside class="declaration">var </aside>ignore_exhaustion <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L27"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 27"></a></h3><p>Whether to ignore stamina exhaustion checks</p><h3 id="var/reinforced_multiplier"><aside class="declaration">var </aside>reinforced_multiplier <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L23"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 23"></a></h3><p>Multiplier for tear time on reinforced walls (null means cannot tear reinforced walls)</p><h3 id="var/require_wielded"><aside class="declaration">var </aside>require_wielded <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L21"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 21"></a></h3><p>Whether the item must be wielded to tear walls</p><h3 id="var/stamina_cost"><aside class="declaration">var </aside>stamina_cost <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L17"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 17"></a></h3><p>Base stamina cost for tearing actions</p><h3 id="var/stamina_cost_wielded"><aside class="declaration">var </aside>stamina_cost_wielded <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L19"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 19"></a></h3><p>Stamina cost when wielded (if different from base)</p><h3 id="var/tear_time"><aside class="declaration">var </aside>tear_time <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L25"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 25"></a></h3><p>Base time required to tear a standard wall</p><h2 id="proc">Proc Details</h2><h3 id="proc/Initialize"><aside class="parent"><a title="/datum/component" href="datum/component.html#proc/Initialize">↑</a></aside>Initialize<aside>(stamina_cost, stamina_cost_wielded, require_wielded, reinforced_multiplier, tear_time, ignore_exhaustion)  <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L43"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 43"></a></aside></h3><p>Initialize the rip and tear component</p>
<p>Sets up the component parameters for wall tearing behavior
Arguments:</p>
<ul>
<li>stamina_cost - Base stamina cost for tearing actions</li>
<li>stamina_cost_wielded - Stamina cost when wielded (uses stamina_cost if null)</li>
<li>require_wielded - Whether wielding is required for tearing</li>
<li>reinforced_multiplier - Time multiplier for reinforced walls (null prevents tearing reinforced walls)</li>
<li>tear_time - Base time required to tear standard walls</li>
<li>ignore_exhaustion - Whether to ignore stamina exhaustion checks</li>
</ul><h3 id="proc/get_stamina_cost"><aside class="declaration">proc </aside>get_stamina_cost<aside>()  <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L161"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 161"></a></aside></h3><p>Get current stamina cost based on wield status</p>
<p>Returns the appropriate stamina cost based on whether the item is wielded
Returns: Stamina cost value</p><h3 id="proc/on_pre_attack"><aside class="declaration">proc </aside>on_pre_attack<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/source, /<a href="atom.html">atom</a>/target, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /list/modifiers)  <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L75"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 75"></a></aside></h3><p>Handle pre-attack validation for wall tearing</p>
<p>Checks if the target is a valid wall for tearing and initiates the tearing process
Returns: <a href="code/__DEFINES/dcs/signals/signals_atom/signals_atom_attack.html#define/COMPONENT_CANCEL_ATTACK_CHAIN" title="COMPONENT_CANCEL_ATTACK_CHAIN">COMPONENT_CANCEL_ATTACK_CHAIN</a> if tearing is initiated or invalid, otherwise NONE</p><h3 id="proc/rip_and_tear"><aside class="declaration">proc </aside>rip_and_tear<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /<a href="atom.html">atom</a>/target)  <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L117"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 117"></a></aside></h3><p>Execute the wall tearing process</p>
<p>Handles the actual wall tearing sequence including do_after, stamina costs,
and visual/audio feedback. Recursively continues tearing until wall is destroyed
or interrupted.</p><h3 id="proc/validate_target"><aside class="declaration">proc </aside>validate_target<aside>(/<a href="atom.html">atom</a>/target, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/rip_and_tear_item.dm#L95"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/rip_and_tear_item.dm 95"></a></aside></h3><p>Validate if target can be torn</p>
<p>Checks various conditions for wall tearing validity
Returns: <a href="modular_bandastation/~components/code/rip_and_tear_item.html#define/WALL_TEAR_ALLOWED" title="WALL_TEAR_ALLOWED">WALL_TEAR_ALLOWED</a> if valid, <a href="modular_bandastation/~components/code/rip_and_tear_item.html#define/WALL_TEAR_INVALID" title="WALL_TEAR_INVALID">WALL_TEAR_INVALID</a> if invalid but should continue chain,
<a href="modular_bandastation/~components/code/rip_and_tear_item.html#define/WALL_TEAR_CANCEL_CHAIN" title="WALL_TEAR_CANCEL_CHAIN">WALL_TEAR_CANCEL_CHAIN</a> if invalid and should cancel attack chain</p></main><footer>tgstation.dme <a href="https://github.com/ss220club/BandaStation/tree/49748ba54f5ca27d09ca2fddd649e3d9b02fb728">49748ba</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>
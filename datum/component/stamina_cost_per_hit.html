<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/stamina_cost_per_hit - BandaStation</title></head><body><header><a href="index.html">BandaStation</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/stamina_cost_per_hit.html#var">Var Details</a> - <a href="datum/component/stamina_cost_per_hit.html#proc">Proc Details</a></header><main><h1>Stamina Cost Per Hit Component <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/stamina_cost_per_hit.html">stamina_cost_per_hit</a></aside> <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/stamina_cost_per_hit.dm#L10"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/stamina_cost_per_hit.dm 10"></a></h1><p>A component that adds stamina cost to item attacks.</p>
<p>This component allows items to consume stamina when used to attack,
with different costs for attacking living beings vs other atoms,
and separate costs for wielded vs one-handed use.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/stamina_cost_per_hit.html#var/attack_cost">attack_cost</a></th><td>Calculated stamina cost for the current attack</td></tr><tr><th><a href="datum/component/stamina_cost_per_hit.html#var/ignore_exhaustion">ignore_exhaustion</a></th><td>Whether to ignore stamina exhaustion checks</td></tr><tr><th><a href="datum/component/stamina_cost_per_hit.html#var/stamina_cost">stamina_cost</a></th><td>Base stamina cost for attacking living beings</td></tr><tr><th><a href="datum/component/stamina_cost_per_hit.html#var/stamina_cost_on_atom">stamina_cost_on_atom</a></th><td>Stamina cost for attacking non-living atoms</td></tr><tr><th><a href="datum/component/stamina_cost_per_hit.html#var/stamina_cost_wielded">stamina_cost_wielded</a></th><td>Stamina cost for attacking living beings when wielded</td></tr><tr><th><a href="datum/component/stamina_cost_per_hit.html#var/stamina_cost_wielded_on_atom">stamina_cost_wielded_on_atom</a></th><td>Stamina cost for attacking non-living atoms when wielded</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/stamina_cost_per_hit.html#proc/Initialize">Initialize</a></th><td>Initialize the stamina cost per hit component</td></tr><tr><th><a href="datum/component/stamina_cost_per_hit.html#proc/on_afterattack">on_afterattack</a></th><td>Apply stamina cost after a successful attack</td></tr><tr><th><a href="datum/component/stamina_cost_per_hit.html#proc/on_attack">on_attack</a></th><td>Handle attack validation and stamina cost calculation</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/attack_cost"><aside class="declaration">var </aside>attack_cost <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/stamina_cost_per_hit.dm#L23"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/stamina_cost_per_hit.dm 23"></a></h3><p>Calculated stamina cost for the current attack</p><h3 id="var/ignore_exhaustion"><aside class="declaration">var </aside>ignore_exhaustion <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/stamina_cost_per_hit.dm#L20"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/stamina_cost_per_hit.dm 20"></a></h3><p>Whether to ignore stamina exhaustion checks</p><h3 id="var/stamina_cost"><aside class="declaration">var </aside>stamina_cost <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/stamina_cost_per_hit.dm#L12"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/stamina_cost_per_hit.dm 12"></a></h3><p>Base stamina cost for attacking living beings</p><h3 id="var/stamina_cost_on_atom"><aside class="declaration">var </aside>stamina_cost_on_atom <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/stamina_cost_per_hit.dm#L16"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/stamina_cost_per_hit.dm 16"></a></h3><p>Stamina cost for attacking non-living atoms</p><h3 id="var/stamina_cost_wielded"><aside class="declaration">var </aside>stamina_cost_wielded <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/stamina_cost_per_hit.dm#L14"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/stamina_cost_per_hit.dm 14"></a></h3><p>Stamina cost for attacking living beings when wielded</p><h3 id="var/stamina_cost_wielded_on_atom"><aside class="declaration">var </aside>stamina_cost_wielded_on_atom <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/stamina_cost_per_hit.dm#L18"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/stamina_cost_per_hit.dm 18"></a></h3><p>Stamina cost for attacking non-living atoms when wielded</p><h2 id="proc">Proc Details</h2><h3 id="proc/Initialize"><aside class="parent"><a title="/datum/component" href="datum/component.html#proc/Initialize">↑</a></aside>Initialize<aside>(stamina_cost, stamina_cost_wielded, stamina_cost_on_atom, stamina_cost_wielded_on_atom, ignore_exhaustion)  <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/stamina_cost_per_hit.dm#L36"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/stamina_cost_per_hit.dm 36"></a></aside></h3><p>Initialize the stamina cost per hit component</p>
<p>Sets up the component parameters for stamina consumption on attacks
Arguments:</p>
<ul>
<li>stamina_cost - Base stamina cost for attacking living beings</li>
<li>stamina_cost_wielded - Stamina cost for attacking living beings when wielded (uses stamina_cost if null)</li>
<li>stamina_cost_on_atom - Stamina cost for attacking non-living atoms (uses stamina_cost if null)</li>
<li>stamina_cost_wielded_on_atom - Stamina cost for attacking non-living atoms when wielded (uses stamina_cost_wielded if null)</li>
<li>ignore_exhaustion - Whether to ignore stamina exhaustion checks</li>
</ul><h3 id="proc/on_afterattack"><aside class="declaration">proc </aside>on_afterattack<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/attaking_item, /<a href="atom.html">atom</a>/target, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /list/modifiers, /list/attack_modifiers)  <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/stamina_cost_per_hit.dm#L90"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/stamina_cost_per_hit.dm 90"></a></aside></h3><p>Apply stamina cost after a successful attack</p>
<p>Deducts the calculated stamina cost from the user after an attack completes</p><h3 id="proc/on_attack"><aside class="declaration">proc </aside>on_attack<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/attaking_item, /<a href="atom.html">atom</a>/target, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, /list/modifiers, /list/attack_modifiers)  <a href="https://github.com/ss220club/BandaStation/blob/49748ba54f5ca27d09ca2fddd649e3d9b02fb728/modular_bandastation/~components/code/stamina_cost_per_hit.dm#L73"><img src="git.png" width="16" height="16" title="modular_bandastation/~components/code/stamina_cost_per_hit.dm 73"></a></aside></h3><p>Handle attack validation and stamina cost calculation</p>
<p>Calculates the appropriate stamina cost based on target type and wield status,
and cancels the attack if the user would be exhausted by the cost
Returns: <a href="code/__DEFINES/dcs/signals/signals_atom/signals_atom_attack.html#define/COMPONENT_CANCEL_ATTACK_CHAIN" title="COMPONENT_CANCEL_ATTACK_CHAIN">COMPONENT_CANCEL_ATTACK_CHAIN</a> if attack should be canceled due to exhaustion, otherwise NONE</p></main><footer>tgstation.dme <a href="https://github.com/ss220club/BandaStation/tree/49748ba54f5ca27d09ca2fddd649e3d9b02fb728">49748ba</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>
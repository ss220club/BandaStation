<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/echolocation - BandaStation</title></head><body><header><a href="index.html">BandaStation</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/echolocation.html#var">Var Details</a> - <a href="datum/component/echolocation.html#proc">Proc Details</a></header><main><h1>echolocation <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/echolocation.html">echolocation</a></aside> <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L1"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 1"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/echolocation.html#var/active_images">active_images</a></th><td>Assoc list of world.time to atom ref to active image</td></tr><tr><th><a href="datum/component/echolocation.html#var/background_paths">background_paths</a></th><td>Typepache of atom types that will have an image generated on WALL_PLANE,
so they stick out from the floor but they don't obstruct game objects.</td></tr><tr><th><a href="datum/component/echolocation.html#var/black_white_matrix">black_white_matrix</a></th><td>A matrix that turns everything except #ffffff into pure blackness, used for our images (the outlines are #ffffff).</td></tr><tr><th><a href="datum/component/echolocation.html#var/combined_filter">combined_filter</a></th><td>Combined typecache of all (UNCHANGING) types we want to echolocate, for faster checking.</td></tr><tr><th><a href="datum/component/echolocation.html#var/deafness_check">deafness_check</a></th><td>Check every few seconds if we lost our hearing, disable sight_bypass if so (turning us really blind).</td></tr><tr><th><a href="datum/component/echolocation.html#var/echo_range">echo_range</a></th><td>Radius of our echolocation.</td></tr><tr><th><a href="datum/component/echolocation.html#var/fade_in_time">fade_in_time</a></th><td>Time for the image to fade in.</td></tr><tr><th><a href="datum/component/echolocation.html#var/fade_out_time">fade_out_time</a></th><td>Time for the image to fade out and delete itself.</td></tr><tr><th><a href="datum/component/echolocation.html#var/focus">focus</a></th><td>The focus action for adjusting echolocation settings.</td></tr><tr><th><a href="datum/component/echolocation.html#var/highlighted_paths">highlighted_paths</a></th><td>Typepache of atom types that will be highlighted with an image on ABOVE_GAME_PLANE.</td></tr><tr><th><a href="datum/component/echolocation.html#var/image_expiry_time">image_expiry_time</a></th><td>Time for the image to start fading out.</td></tr><tr><th><a href="datum/component/echolocation.html#var/overlay_states">overlay_states</a></th><td>Typecache of overlay icon states to the typecache of types that get that overlay.</td></tr><tr><th><a href="datum/component/echolocation.html#var/planes">planes</a></th><td>List of planes we apply our filters to.</td></tr><tr><th><a href="datum/component/echolocation.html#var/saved_appearances">saved_appearances</a></th><td>All the saved appearances, keyed by icon-icon_state.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/echolocation.html#proc/deafness_check">deafness_check</a></th><td>Add or remove SIGHT_BYPASS depending on if we are deaf or not</td></tr><tr><th><a href="datum/component/echolocation.html#proc/hud_created">hud_created</a></th><td>If the mob had no hud when they gained echolocation we need to apply the effect now</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/active_images"><aside class="declaration">var </aside>active_images <aside>– /list</aside> <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L12"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 12"></a></h3><p>Assoc list of world.time to atom ref to active image</p><h3 id="var/background_paths"><aside class="declaration">var </aside>background_paths <aside>– /list</aside> <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L20"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 20"></a></h3><p>Typepache of atom types that will have an image generated on WALL_PLANE,
so they stick out from the floor but they don't obstruct game objects.</p><h3 id="var/black_white_matrix"><aside class="declaration">var </aside>black_white_matrix <aside>– /list</aside> <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 31"></a></h3><p>A matrix that turns everything except #ffffff into pure blackness, used for our images (the outlines are #ffffff).</p><h3 id="var/combined_filter"><aside class="declaration">var </aside>combined_filter <aside>– /list</aside> <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L25"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 25"></a></h3><p>Combined typecache of all (UNCHANGING) types we want to echolocate, for faster checking.</p><h3 id="var/deafness_check"><aside class="declaration">var </aside>deafness_check <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L36"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 36"></a></h3><p>Check every few seconds if we lost our hearing, disable sight_bypass if so (turning us really blind).</p><h3 id="var/echo_range"><aside class="declaration">var </aside>echo_range <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L3"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 3"></a></h3><p>Radius of our echolocation.</p><h3 id="var/fade_in_time"><aside class="declaration">var </aside>fade_in_time <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L7"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 7"></a></h3><p>Time for the image to fade in.</p><h3 id="var/fade_out_time"><aside class="declaration">var </aside>fade_out_time <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L9"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 9"></a></h3><p>Time for the image to fade out and delete itself.</p><h3 id="var/focus"><aside class="declaration">var </aside>focus <aside>– /<a href="datum.html">datum</a>/<a href="datum/action.html">action</a>/<a href="datum/action/echolocation_focus.html">echolocation_focus</a></aside> <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L28"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 28"></a></h3><p>The focus action for adjusting echolocation settings.</p><h3 id="var/highlighted_paths"><aside class="declaration">var </aside>highlighted_paths <aside>– /list</aside> <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L17"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 17"></a></h3><p>Typepache of atom types that will be highlighted with an image on ABOVE_GAME_PLANE.</p><h3 id="var/image_expiry_time"><aside class="declaration">var </aside>image_expiry_time <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L5"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 5"></a></h3><p>Time for the image to start fading out.</p><h3 id="var/overlay_states"><aside class="declaration">var </aside>overlay_states <aside>– /list</aside> <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 22"></a></h3><p>Typecache of overlay icon states to the typecache of types that get that overlay.</p><h3 id="var/planes"><aside class="declaration">var </aside>planes <aside>– /list</aside> <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L33"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 33"></a></h3><p>List of planes we apply our filters to.</p><h3 id="var/saved_appearances"><aside class="declaration">var </aside>saved_appearances <aside>– /static/list</aside> <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L14"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 14"></a></h3><p>All the saved appearances, keyed by icon-icon_state.</p><h2 id="proc">Proc Details</h2><h3 id="proc/deafness_check"><aside class="declaration">proc </aside>deafness_check<aside>(...)  <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L128"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 128"></a></aside></h3><p>Add or remove SIGHT_BYPASS depending on if we are deaf or not</p><h3 id="proc/hud_created"><aside class="declaration">proc </aside>hud_created<aside>(...)  <a href="https://github.com/ss220club/BandaStation/blob/ab44692e762913f2db8b94e26336091432fb90d3/code/datums/components/echolocation.dm#L137"><img src="git.png" width="16" height="16" title="code/datums/components/echolocation.dm 137"></a></aside></h3><p>If the mob had no hud when they gained echolocation we need to apply the effect now</p></main><footer>tgstation.dme <a href="https://github.com/ss220club/BandaStation/tree/ab44692e762913f2db8b94e26336091432fb90d3">ab44692</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>